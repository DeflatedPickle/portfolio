@require "colours"

@import url('https://fonts.googleapis.com/css?family=Poppins:200i')
@import url('https://fonts.googleapis.com/css?family=Arvo')

.mainProject
  transition margin 0.2s ease, transform 0.4s ease-in-out, box-shadow 0.2s ease

  .expander
    width 32px
    height 100%

    bottom initial

    grid-row-start 1
    grid-row-end 4

    &:hover
      transform scaleX(1.1)

      .expanderText
        &.left
          transform translateX(-5px)

        &.right
          transform translateX(5px)

  .hiddenContent
    border-top none

    max-width 0
    max-height 100%

    grid-row-start 1
    grid-row-end 4

.mainProjectLeft
  @extend .mainProject

  // grid-template-columns 145px auto 32px 20px
  grid-template-columns 145px auto 0 0
  grid-template-rows 30px auto 32px

  .infoBar
    grid-row 3
    grid-column 2

  .projectTools
    grid-row 4

    grid-column-start 1
    grid-column-end 3

  .expander
    grid-column 3

  .hiddenContent
    border-left 3px solid text

    grid-column 4

.mainProjectRight
  @extend .mainProject

  // grid-template-columns 20px 32px 145px auto
  grid-template-columns 0 0 145px auto
  grid-template-rows 30px auto 32px

  h3
    grid-row 1
    grid-column 4

  .toolsButton
    grid-row 3
    grid-column 3

  .infoBar
    grid-row 3
    grid-column 4

  .projectTools
    grid-row 4

    grid-column-start 3
    grid-column-end 5

  .langs
    grid-row 1
    grid-column 1

  .libs
    grid-row 2
    grid-column 1

  .projectLink
    grid-row 1
    grid-column 4

  p
    grid-row 2
    grid-column 4

  img
    grid-row 1
    grid-column 3

    grid-row-start 1
    grid-row-end 3

  .expander
    grid-column 2

  .hiddenContent
    border-right 3px solid text

    grid-column 1

.main_projects
  background-color toolbar

  padding 10px

  .left
    .project
      @extend .mainProjectLeft

      margin 30px 5% 30px 30%

      // filter drop-shadow(3px 3px 5px black)

      box-shadow 3px 3px 15px black

      &:hover
        box-shadow 6px 6px 15px black

        transform translateX(10px)

  .right
    .project
      @extend .mainProjectRight

      margin 30px 30% 30px 5%

      // filter drop-shadow(-3px 3px 5px black)

      box-shadow -3px 3px 15px black

      &:hover
        box-shadow -6px 6px 15px black

        transform translateX(-10px)

.project
  background-color panel

  border-style solid
  border-color panel

  overflow hidden

  // position relative
  // padding-bottom 24px

  margin 9px 3px 9px 3px

  display grid
  grid-template-columns 145px auto
  grid-template-rows 30px auto 32px auto

  backface-visibility hidden

  transition transform 0.2s ease, box-shadow 0.2s ease

  // box-shadow 0 2px 5px 3px black

  // &:hover
    // transform scale(1.005)
    // box-shadow 0 4px 10px 5px black
    // box-shadow 0 2px 5px 3px black

  h3
    display inline-block

    width 30%

    font-family 'Arvo', serif

    // border-bottom: 2px solid text
    box-shadow inset 0 -2px 0 text

    padding-left 3px
    margin 3px

    grid-row 1
    grid-column 2

  .infoBar
    display table

    height 26px

    padding-top 3px

    grid-row 3
    grid-column 2

    .state
      display table-cell

      box-shadow initial

      color white

      user-select none

      transition width 0.2s ease-in-out, filter 0.2s ease

      margin 0

      &:hover
        width 50%

        filter brightness(95%)

    .completed
      background-color lightgreen

    .discontinued
      background-color lightcoral

    .replaced
      background-color hotpink

    .development
      background-color cadetblue

    .production
      background-color orange

    .prototype
      background-color mediumorchid

    .demonstration
      background-color lightsalmon

  .toolsButton
    display inline-block

    box-shadow initial

    background-color cornflowerblue
    color white

    width 135px

    user-select none

    text-align center

    cursor pointer

    grid-row 3
    grid-column 1

    transition all 0.4s ease

    &:hover
      filter brightness(90%)

    &:hover + .projectTools
      max-height 100px

  .projectTools
    display grid

    grid-row 4

    grid-column-start 1
    grid-column-end 3

    grid-template-columns 120px auto

    user-select none

    max-height 0

    transition all 0.4s ease-in-out

    &:hover
      max-height 100px

    h3
      display table-cell

      box-shadow initial

      background-color dodgerblue
      color white

    .projectLanguages
      grid-row 1
      grid-column 2

    .projectLibraries
      grid-row 2
      grid-column 2

    .projectLanguages, .projectLibraries
      display table

      h3
        display table-cell

        height 26px

        padding-top 3px

        box-shadow initial

        background-color orange
        color white

        transition width 0.2s ease-in-out, filter 0.2s ease

        &:hover
          filter brightness(95%)

          width 50%

    .langs, .libs
      text-align right

      width 110px

      margin-top 0
      margin-bottom 0

    .langs
      grid-row 1
      grid-column 1

    .libs
      grid-row 2
      grid-column 1

  .projectLink
    display inline-block

    font-family 'Poppins', sans-serif

    text-align right

    outline 0

    user-select none

    grid-row 1
    grid-column 2

  p
    font-family 'Poppins', sans-serif

    margin 1px

    grid-row 2
    grid-column 2

  img
    // float left
    overflow auto

    width 128px
    height 128px

    margin 5px

    filter opacity(0.9) drop-shadow(3px 3px 5px black)

    grid-row 1
    grid-column 1

    grid-row-start 1
    grid-row-end 3

    user-select none

    image-rendering pixelated

    transition all 0.2s ease

    &:hover
      transform scale(1.05)

  .expander
    background-color text

    width 100%
    height 32px

    // text-align center

    font-family 'Arvo', serif

    color white

    display flex
    justify-content center
    align-items center

    grid-column-start 1
    grid-column-end 3

    grid-row 4

    // h3
    //   z-index 1
    //   transform translateY(2px)

    //   color white

    //   box-shadow none

    transition transform 0.1s ease, background-color 0.3s ease

    &:hover
      background-color textHover

      cursor pointer

      transform scaleY(1.1)

      .expanderText
        &.top
          transform translateY(-5px)

        &.bottom
          transform translateY(5px)

    .expanderText
      font-family 'Courier New'

      transition transform 0.1s ease

      user-select none

      // filter drop-shadow(0 0 7px black)

  .hiddenContent
    background-color toolbar

    // display none
    // overflow hidden

    max-width 100%
    max-height 0
    overflow auto

    border-top 3px solid text

    grid-row 5
    grid-column-start 1
    grid-column-end 3

    transition max-height 0.2s ease

    // TODO: Make the image list scroll horizontally
    ol
      margin 5px
      padding 0

      list-style-position inside

      font-family 'Arvo', serif
      font-size 150%

      transform translateY(-14px)

      li
        float left

        transform translateY(10px)

        img
          display block
          padding-left 5px
          padding-right 18px

          transition all 0.2s ease

          transform translateX(12px) translateY(-20px)

          user-select none

          &:hover
            cursor pointer

            transform translateX(12px) translateY(-14px) scale(1.08)

        p
          transform translateX(20px) translateY(-18px)

          font-size 60%

// .hidden
//   visibility hidden
//
//   display none